# ServiceAccount: Pod에 IAM Role을 연결하는 리소스 (IRSA)
# Pod가 AWS API를 호출할 때 이 IAM Role의 권한을 사용함
apiVersion: v1           # Kubernetes API 버전
kind: ServiceAccount     # 리소스 타입
metadata:
  name: fproject-backend-sa  # ServiceAccount 이름 (Deployment에서 참조)
  namespace: default         # 배포할 네임스페이스
  annotations:
    # IRSA (IAM Roles for Service Accounts) 설정
    # 이 ServiceAccount를 사용하는 Pod는 자동으로 이 IAM Role의 권한을 가짐
    eks.amazonaws.com/role-arn: arn:aws:iam::324547056370:role/fproject-backend-sa-role
    # 이 IAM Role이 가진 권한:
    # - Secrets Manager에서 비밀 읽기
    # - S3에 파일 업로드
    # - Cognito 사용자 관리
    # - CloudWatch 로그 전송
